generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  idUser   String   @id @default(uuid())
  username String   @unique
  password String
  Berita   Berita[]
}

model Jurusan {
  idJurusan   String  @id @default(uuid())
  kodeJurusan String  @unique
  namaJurusan String
  Siswa       Siswa[]
}

model Guru {
  idGuru  String @id @default(uuid())
  nama    String
  jabatan String
  Kelas   Kelas?
}

model Siswa {
  idSiswa          String  @id @default(uuid())
  nisn             String  @unique
  nama             String
  jurusan          Jurusan @relation(fields: [jurusanIdJurusan], references: [idJurusan])
  kelas            Kelas   @relation(fields: [kelasIdKelas], references: [idKelas])
  jurusanIdJurusan String
  kelasIdKelas     String
}

model Berita {
  idBerita   String   @id @default(uuid())
  title      String
  image      String
  artikel    Bytes
  tanggal    DateTime @default(now())
  author     User     @relation(fields: [userIdUser], references: [idUser])
  userIdUser String
}

model Kelas {
  idKelas    String  @id @default(uuid())
  kelas      String
  waliKelas  Guru    @relation(fields: [guruIdGuru], references: [idGuru])
  guruIdGuru String  @unique
  Siswa      Siswa[]
}

model Image {
  idImage     String @id @unique @default(uuid())
  fileName    String @unique
  contentType String
  path        String
}
